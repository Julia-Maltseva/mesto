(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._likes=t.likes,this._id=t.id,this._userId=t.userId,this._ownerId=t.ownerId,this._templateSelector=n,this._handleCardClick=r,this._handleDeleteClick=o,this._handleLikeClick=i}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._image=this._element.querySelector(".element__image"),this._buttonLike=this._element.querySelector(".element__like-button"),this._setEventListeners(),this._element.querySelector(".element__title").textContent=this._name,this._image.src=this._link,this._image.alt=this._name,this.setLikes(this._likes),this._ownerId!==this._userId&&(this._element.querySelector(".element__delete-button").style.display="none"),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete-button").addEventListener("click",(function(){e._handleDeleteClick(e._id)})),this._image.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._buttonLike.addEventListener("click",(function(){e._handleLikeClick(e._id)}))}},{key:"deleteElement",value:function(){this._element.remove()}},{key:"isLiked",value:function(){var e=this;return this._likes.find((function(t){return t._id===e._userId}))}},{key:"setLikes",value:function(e){this._likes=e,this._element.querySelector(".element__like-count").textContent=this._likes.length,this.isLiked()?this._activeLike():this._inactiveLike()}},{key:"_activeLike",value:function(){this._buttonLike.classList.add("element__like-button_active")}},{key:"_inactiveLike",value:function(){this._buttonLike.classList.remove("element__like-button_active")}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function i(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===r(t)?t:String(t)}var a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_showInputError",(function(){var e=r._formElement.querySelector("#".concat(r._inputElement.id,"-error"));r._inputElement.classList.add(r._inputErrorClass),e.textContent=r._inputElement.validationMessage})),i(this,"_hideInputError",(function(){var e=r._formElement.querySelector("#".concat(r._inputElement.id,"-error"));r._inputElement.classList.remove(r._inputErrorClass),e.textContent=""})),i(this,"_checkInputValidity",(function(){r._inputElement.validity.valid?r._hideInputError():r._showInputError()})),i(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),i(this,"_toggleButtonState",(function(){r._hasInvalidInput(r._inputList)?(r._buttonElement.disabled=!0,r._buttonElement.classList.add(r._inactiveButtonClass),r._buttonElement.classList.remove(r._activeButtonClass)):(r._buttonElement.disabled=!1,r._buttonElement.classList.remove(r._inactiveButtonClass),r._buttonElement.classList.add(r._activeButtonClass))})),i(this,"_setEventListeners",(function(){r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._inputElement=e,r._checkInputValidity(),r._toggleButtonState()}))})),r._toggleButtonState()})),i(this,"enableValidation",(function(){r._setEventListeners()})),this._formElement=n,this._config=t,this._inputElement=this._formElement.querySelector(this._config.inputElement),this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputElement)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonElement),this._inactiveButtonClass=t.inactiveButtonClass,this._activeButtonClass=t.activeButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._inputElement=t,e._hideInputError(t)}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var s=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(e){this._container.append(e)}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===f(o)?o:String(o)),r)}var o}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__close-button")&&e.close()}))}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function _(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._handleSubmitForm=t,n._formElement=n._popupElement.querySelector(".popup__form"),n._inputList=Array.from(n._formElement.querySelectorAll(".popup__input")),n._buttonSave=document.querySelector(".popup__save-button"),n}return t=u,n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"changeSubmitHandler",value:function(e){this._handleSubmitForm=e}},{key:"renderLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Сохранение...";this._buttonSave.textContent=e?t:"Сохранить"}},{key:"setEventListeners",value:function(){var e=this;h(S(u.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmitForm(e._getInputValues()),e.close()}))}},{key:"close",value:function(){h(S(u.prototype),"close",this).call(this),this._formElement.reset()}}],n&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===g(o)?o:String(o)),r)}var o}var w=function(){function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(e,t,n){this._nameElement.textContent=e,this._jobElement.textContent=t,this._avatarElement.src=n}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===j(o)?o:String(o)),r)}var o}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function I(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._imageBigPhoto=t._popupElement.querySelector(".popup__photo"),t._nameBigPhoto=t._popupElement.querySelector(".popup__photo-title"),t}return t=u,(n=[{key:"open",value:function(e,t){this._imageBigPhoto.src=t,this._imageBigPhoto.alt=t,this._nameBigPhoto.textContent=e,L(q(u.prototype),"open",this).call(this)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(m);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===B(o)?o:String(o)),r)}var o}var U=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=r,this._baseUrl=n}var t,n;return t=e,(n=[{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"editProfile",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,job:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}},{key:"addAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).catch(console.log)}}])&&R(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),V=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),D=document.querySelector(".popup__form_edit"),A=document.querySelector(".popup__first-field_edit"),N=document.querySelector(".popup__second-field_edit"),H=(document.querySelector(".profile__name"),document.querySelector(".profile__job"),document.querySelector(".elements")),J=document.querySelector(".popup__form_add"),F=(document.querySelector(".popup__first-field_add"),document.querySelector(".popup__second-field_add"),document.querySelector(".popup__form_avatar")),z=document.querySelector(".profile__avatar-button"),M=new w({nameSelector:".profile__name",jobSelector:".profile__job",avatarSelector:".profile__avatar"});V.addEventListener("click",(function(){W.resetValidation(),$.open();var e=M.getUserInfo();A.value=e.name,N.value=e.job})),x.addEventListener("click",(function(){X.resetValidation(),Z.open()}));var G={formElement:".popup__form",inputElement:".popup__input",submitButtonElement:".popup__save-button",inactiveButtonClass:"popup__save-button_invalid",activeButtonClass:"popup__save-button_valid",inputErrorClass:"popup__input_type_error",errorClass:"error"};function K(e){var t=new n(e,".template-card",(function(){ee.open(e.name,e.link)}),(function(e){te.open(),te.changeSubmitHandler((function(){re.deleteCard(e).then((function(e){t.deleteElement(),te.close()}))}))}),(function(e){t.isLiked()?re.deleteLike(e).then((function(e){t.setLikes(e.likes)})):re.addLike(e).then((function(e){t.setLikes(e.likes)}))}));return t.generateCard()}var Q=new s({items:[],renderer:function(e){var t=K(e);Q.addItem(t)}},".elements");Q.renderItems();var W=new a(G,D),X=new a(G,J),Y=new a(G,F);W.enableValidation(),X.enableValidation(),Y.enableValidation();var Z=new E(".popup_type_add-card",(function(e){re.addCard(e.imageName,e.imageLink).then((function(e){var t=K({name:e.name,link:e.link,likes:e.likes,id:e._id,userId:e.userId,ownerId:e.ownerId});H.prepend(t)})).finally((function(){return Z.renderLoading(!1)}))}));Z.setEventListeners();var $=new E(".popup_type_edit",(function(e){var t=e.userName,n=e.userJob;re.editProfile(t,n).then((function(){M.setUserInfo(t,n)})).finally((function(){return $.renderLoading()}))}));$.setEventListeners();var ee=new T(".popup_type_show-photo");ee.setEventListeners();var te=new E(".popup_type_delete");te.setEventListeners();var ne=new E(".popup_type_avatar",(function(e){re.addAvatar(e.avatarLink).then((function(e){M.setUserInfo(e.avatar)})).finally((function(){return ne.renderLoading()}))}));ne.setEventListeners(),z.addEventListener("click",(function(){Y.resetValidation(),ne.open()}));var re=new U({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-55",headers:{authorization:"203a374d-3063-4bcc-bd34-4d3d86ed3dae","Content-Type":"application/json"}});re.getProfile().then((function(e){M.setUserInfo(e.name,e.job,e.avatar),e._id})),re.getCards().then((function(e){e.forEach((function(e){var t=K({name:e.name,link:e.link,likes:e.likes,id:e._id,userId:e.userId,ownerId:e.owner._id});Q.addItem(t)}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiMHJCQUNxQkEsRUFBSSxXQUN2QixXQUFZQyxFQUFNQyxFQUFrQkMsRUFBaUJDLEVBQW1CQyxJLDRGQUFpQixTQUN2RkMsS0FBS0MsTUFBUU4sRUFBS08sS0FDbEJGLEtBQUtHLE1BQVFSLEVBQUtTLEtBQ2xCSixLQUFLSyxPQUFTVixFQUFLVyxNQUNuQk4sS0FBS08sSUFBTVosRUFBS2EsR0FDaEJSLEtBQUtTLFFBQVVkLEVBQUtlLE9BQ3BCVixLQUFLVyxTQUFXaEIsRUFBS2lCLFFBQ3JCWixLQUFLYSxrQkFBb0JqQixFQUN6QkksS0FBS2MsaUJBQW1CakIsRUFDeEJHLEtBQUtlLG1CQUFxQmpCLEVBQzFCRSxLQUFLZ0IsaUJBQW1CakIsQ0FDMUIsQyxRQXlFQyxPLEVBekVBLEcsRUFBQSwyQkFFRCxXQU9FLE9BTm9Ca0IsU0FDbkJDLGNBQWNsQixLQUFLYSxtQkFDbkJNLFFBQ0FELGNBQWMsWUFDZEUsV0FBVSxFQUdiLEdBQUMsMEJBRUQsV0FnQkUsT0FmQXBCLEtBQUtxQixTQUFXckIsS0FBS3NCLGVBQ3JCdEIsS0FBS3VCLE9BQVN2QixLQUFLcUIsU0FBU0gsY0FBYyxtQkFDMUNsQixLQUFLd0IsWUFBY3hCLEtBQUtxQixTQUFTSCxjQUFjLHlCQUMvQ2xCLEtBQUt5QixxQkFFTHpCLEtBQUtxQixTQUFTSCxjQUFjLG1CQUFtQlEsWUFBYzFCLEtBQUtDLE1BQ2xFRCxLQUFLdUIsT0FBT0ksSUFBTTNCLEtBQUtHLE1BQ3ZCSCxLQUFLdUIsT0FBT0ssSUFBTTVCLEtBQUtDLE1BRXZCRCxLQUFLNkIsU0FBUzdCLEtBQUtLLFFBRWZMLEtBQUtXLFdBQWFYLEtBQUtTLFVBQ3pCVCxLQUFLcUIsU0FBU0gsY0FBYywyQkFBMkJZLE1BQU1DLFFBQVUsUUFHbEUvQixLQUFLcUIsUUFDZCxHQUFDLGdDQUVELFdBQXFCLFdBQ25CckIsS0FBS3FCLFNBQVNILGNBQWMsMkJBQTJCYyxpQkFBaUIsU0FBUyxXQUMvRSxFQUFLakIsbUJBQW1CLEVBQUtSLElBQy9CLElBRUFQLEtBQUt1QixPQUFPUyxpQkFBaUIsU0FBUyxXQUNwQyxFQUFLbEIsaUJBQWlCLEVBQUtiLE1BQU8sRUFBS0UsTUFDekMsSUFFQUgsS0FBS3dCLFlBQVlRLGlCQUFpQixTQUFTLFdBQ3pDLEVBQUtoQixpQkFBaUIsRUFBS1QsSUFDN0IsR0FDRixHQUFDLDJCQUVELFdBQ0VQLEtBQUtxQixTQUFTWSxRQUNoQixHQUFDLHFCQUVELFdBQVUsV0FFUixPQURnQmpDLEtBQUtLLE9BQU82QixNQUFLLFNBQUNDLEdBQUksT0FBS0EsRUFBSzVCLE1BQVEsRUFBS0UsT0FBTyxHQUV0RSxHQUFDLHNCQUVELFNBQVNkLEdBQ1BLLEtBQUtLLE9BQVNWLEVBQ0lLLEtBQUtxQixTQUFTSCxjQUFjLHdCQUNwQ1EsWUFBYzFCLEtBQUtLLE9BQU8rQixPQUdoQ3BDLEtBQUtxQyxVQUNQckMsS0FBS3NDLGNBRUx0QyxLQUFLdUMsZUFFVCxHQUFDLHlCQUVELFdBQ0V2QyxLQUFLd0IsWUFBWWdCLFVBQVVDLElBQUksOEJBQ2pDLEdBQUMsMkJBRUQsV0FDRXpDLEtBQUt3QixZQUFZZ0IsVUFBVVAsT0FBTyw4QkFDcEMsTSxvRUFBQyxFQXJGc0IsRyxtekJDREpTLEVBQWEsV0FDaEMsV0FBWUMsRUFBUUMsR0FBYSxZLDRGQUFBLG1DQVlmLFdBQ2hCLElBQU1DLEVBQWUsRUFBS0MsYUFBYTVCLGNBQWMsSUFBRCxPQUFLLEVBQUs2QixjQUFjdkMsR0FBRSxXQUM5RSxFQUFLdUMsY0FBY1AsVUFBVUMsSUFBSSxFQUFLTyxrQkFDdENILEVBQWFuQixZQUFjLEVBQUtxQixjQUFjRSxpQkFDaEQsSUFBQywwQkFFaUIsV0FDaEIsSUFBTUosRUFBZSxFQUFLQyxhQUFhNUIsY0FBYyxJQUFELE9BQUssRUFBSzZCLGNBQWN2QyxHQUFFLFdBQzlFLEVBQUt1QyxjQUFjUCxVQUFVUCxPQUFPLEVBQUtlLGtCQUN6Q0gsRUFBYW5CLFlBQWMsRUFDN0IsSUFBQyw4QkFFcUIsV0FDakIsRUFBS3FCLGNBQWNHLFNBQVNDLE1BQzdCLEVBQUtDLGtCQUVMLEVBQUtDLGlCQUVULElBQUMsMkJBRWtCLFdBQ2pCLE9BQU8sRUFBS0MsV0FBV0MsTUFBSyxTQUFBQyxHQUFZLE9BQUtBLEVBQWFOLFNBQVNDLEtBQUssR0FDMUUsSUFBQyw2QkFFb0IsV0FDaEIsRUFBS00saUJBQWlCLEVBQUtILGFBQzVCLEVBQUtJLGVBQWVDLFVBQVcsRUFDL0IsRUFBS0QsZUFBZWxCLFVBQVVDLElBQUksRUFBS21CLHNCQUN2QyxFQUFLRixlQUFlbEIsVUFBVVAsT0FBTyxFQUFLNEIsc0JBRTFDLEVBQUtILGVBQWVDLFVBQVcsRUFDL0IsRUFBS0QsZUFBZWxCLFVBQVVQLE9BQU8sRUFBSzJCLHNCQUMxQyxFQUFLRixlQUFlbEIsVUFBVUMsSUFBSSxFQUFLb0Isb0JBRTNDLElBQUMsNkJBRW9CLFdBQ25CLEVBQUtQLFdBQVdRLFNBQVEsU0FBQ04sR0FDdkJBLEVBQWF4QixpQkFBaUIsU0FBUyxXQUNyQyxFQUFLZSxjQUFnQlMsRUFDckIsRUFBS08sc0JBQ0wsRUFBS0Msb0JBQ1AsR0FDRixJQUNBLEVBQUtBLG9CQUNQLElBQUMsMkJBVWtCLFdBQ2YsRUFBS3ZDLG9CQUNULElBcEVFekIsS0FBSzhDLGFBQWVGLEVBQ3BCNUMsS0FBS2lFLFFBQVV0QixFQUNmM0MsS0FBSytDLGNBQWdCL0MsS0FBSzhDLGFBQWE1QixjQUFjbEIsS0FBS2lFLFFBQVFULGNBQ2xFeEQsS0FBS3NELFdBQWFZLE1BQU1DLEtBQUtuRSxLQUFLOEMsYUFBYXNCLGlCQUFpQnBFLEtBQUtpRSxRQUFRVCxlQUM3RXhELEtBQUswRCxlQUFpQjFELEtBQUs4QyxhQUFhNUIsY0FBY2xCLEtBQUtpRSxRQUFRSSxxQkFDbkVyRSxLQUFLNEQscUJBQXVCakIsRUFBTzJCLG9CQUNuQ3RFLEtBQUs2RCxtQkFBcUJsQixFQUFPNEIsa0JBQ2pDdkUsS0FBS2dELGlCQUFtQkwsRUFBTzZCLGdCQUMvQnhFLEtBQUt5RSxZQUFjOUIsRUFBTytCLFVBQzVCLEMsUUF1REMsTyxFQXZEQSxHLEVBQUEsOEJBaURELFdBQWtCLFdBQ2hCMUUsS0FBS2dFLHFCQUNMaEUsS0FBS3NELFdBQVdRLFNBQVEsU0FBQ04sR0FDdkIsRUFBS1QsY0FBZ0JTLEVBQ3JCLEVBQUtKLGdCQUFnQkksRUFDdkIsR0FDRixNLG9FQUFDLEVBbEUrQixHLHVxQkNDYm1CLEVBQU8sV0FDMUIsYUFBK0JDLEdBQW1CLElBQXJDQyxFQUFLLEVBQUxBLE1BQU9DLEVBQVEsRUFBUkEsVSw0RkFBUSxTQUMxQjlFLEtBQUsrRSxPQUFTRixFQUNkN0UsS0FBS2dGLFVBQVlGLEVBQ2pCOUUsS0FBS2lGLFdBQWFoRSxTQUFTQyxjQUFjMEQsRUFDM0MsQyxRQVVDLE8sRUFWQSxHLEVBQUEsMEJBRUQsV0FBYyxXQUNaNUUsS0FBSytFLE9BQU9qQixTQUFRLFNBQUFvQixHQUNsQixFQUFLRixVQUFVRSxFQUNqQixHQUNGLEdBQUMscUJBRUQsU0FBUUMsR0FDTm5GLEtBQUtpRixXQUFXRyxPQUFPRCxFQUN6QixNLG9FQUFDLEVBZnlCLEcsdXFCQ0FQRSxFQUFLLFdBQ3hCLFdBQVlDLEksNEZBQWUsU0FDekJ0RixLQUFLdUYsY0FBZ0J0RSxTQUFTQyxjQUFjb0UsR0FDNUN0RixLQUFLd0YsZ0JBQWtCeEYsS0FBS3dGLGdCQUFnQkMsS0FBS3pGLEtBQ25ELEMsUUEyQkMsTyxFQTNCQSxHLEVBQUEsbUJBRUQsV0FDRUEsS0FBS3VGLGNBQWMvQyxVQUFVQyxJQUFJLGdCQUNqQ3hCLFNBQVNlLGlCQUFpQixVQUFXaEMsS0FBS3dGLGdCQUM1QyxHQUFDLG1CQUVELFdBQ0V4RixLQUFLdUYsY0FBYy9DLFVBQVVQLE9BQU8sZ0JBQ3BDaEIsU0FBU3lFLG9CQUFvQixVQUFXMUYsS0FBS3dGLGdCQUMvQyxHQUFDLDZCQUVELFNBQWdCRyxHQUNDLFdBQVpBLEVBQUlDLEtBQ0w1RixLQUFLNkYsT0FFVCxHQUFDLCtCQUVELFdBQW9CLFdBQ2xCN0YsS0FBS3VGLGNBQWN2RCxpQkFBaUIsYUFBYSxTQUFDMkQsR0FDNUNBLEVBQUlHLE9BQU90RCxVQUFVdUQsU0FBUyxpQkFDaEMsRUFBS0YsUUFFSEYsRUFBSUcsT0FBT3RELFVBQVV1RCxTQUFTLHdCQUNoQyxFQUFLRixPQUVULEdBQ0YsTSxvRUFBQyxFQS9CdUIsRyw0aERDREssSUFFVkcsRUFBYSxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSwrWUFDaEMsV0FBWVYsRUFBZVcsR0FBa0IsTUFLcUIsTyw0RkFMckIsVUFDM0MsY0FBTVgsSUFDRFksa0JBQW9CRCxFQUN6QixFQUFLbkQsYUFBZSxFQUFLeUMsY0FBY3JFLGNBQWMsZ0JBQ3JELEVBQUtvQyxXQUFhWSxNQUFNQyxLQUFLLEVBQUtyQixhQUFhc0IsaUJBQWlCLGtCQUNoRSxFQUFLK0IsWUFBY2xGLFNBQVNDLGNBQWMsdUJBQXNCLENBQ2xFLENBbUNDLE8sRUFuQ0EsRSxFQUFBLDhCQUVELFdBQWtCLFdBTWhCLE9BTEFsQixLQUFLb0csWUFBYyxDQUFDLEVBQ3BCcEcsS0FBS3NELFdBQVdRLFNBQVEsU0FBQ3VDLEdBQ3ZCLEVBQUtELFlBQVlDLEVBQU1uRyxNQUFRbUcsRUFBTUMsS0FDdkMsSUFFT3RHLEtBQUtvRyxXQUNkLEdBQUMsaUNBRUQsU0FBb0JHLEdBQ2xCdkcsS0FBS2tHLGtCQUFvQkssQ0FDM0IsR0FBQywyQkFFRCxTQUFjQyxHQUF3QyxJQUE3QkMsRUFBVyx1REFBQyxnQkFFakN6RyxLQUFLbUcsWUFBWXpFLFlBRGY4RSxFQUM2QkMsRUFFQSxXQUVuQyxHQUFDLCtCQUVELFdBQW9CLFdBQ2xCLHNEQUNBekcsS0FBSzhDLGFBQWFkLGlCQUFpQixVQUFVLFNBQUMyRCxHQUM1Q0EsRUFBSWUsaUJBQ0osRUFBS1Isa0JBQWtCLEVBQUtTLG1CQUM1QixFQUFLZCxPQUNQLEdBQ0YsR0FBQyxtQkFFRCxXQUNFLDBDQUNBN0YsS0FBSzhDLGFBQWE4RCxPQUNwQixJLHVFQUFDLEVBMUMrQixDQUFTdkIsRyx1cUJDRHRCd0IsRUFBUSxXQUMzQixjQUF5RCxJQUE1Q0MsRUFBWSxFQUFaQSxhQUFjQyxFQUFXLEVBQVhBLFlBQWFDLEVBQWMsRUFBZEEsZ0IsNEZBQWMsU0FDcERoSCxLQUFLaUgsYUFBZWhHLFNBQVNDLGNBQWM0RixHQUMzQzlHLEtBQUtrSCxZQUFjakcsU0FBU0MsY0FBYzZGLEdBQzFDL0csS0FBS21ILGVBQWlCbEcsU0FBU0MsY0FBYzhGLEVBQy9DLEMsUUFhQyxPLEVBYkEsRyxFQUFBLDBCQUVELFdBQ0UsTUFBTyxDQUNMOUcsS0FBTUYsS0FBS2lILGFBQWF2RixZQUN4QjBGLElBQUtwSCxLQUFLa0gsWUFBWXhGLFlBRTFCLEdBQUMseUJBRUQsU0FBWXhCLEVBQU1rSCxFQUFLQyxHQUNyQnJILEtBQUtpSCxhQUFhdkYsWUFBY3hCLEVBQ2hDRixLQUFLa0gsWUFBWXhGLFlBQWMwRixFQUMvQnBILEtBQUttSCxlQUFleEYsSUFBTTBGLENBQzVCLE0sb0VBQUMsRUFsQjBCLEcsNGhEQ0RFLElBRVZDLEVBQWMsYSxxUkFBQSxVLFFBQUEsRyxFQUFBLEUsK1lBQ2pDLFdBQVloQyxHQUFlLE1BR29ELE8sNEZBSHBELFVBQ3pCLGNBQU1BLElBQ0RpQyxlQUFpQixFQUFLaEMsY0FBY3JFLGNBQWMsaUJBQ3ZELEVBQUtzRyxjQUFnQixFQUFLakMsY0FBY3JFLGNBQWMsdUJBQXVCLENBQy9FLENBT0MsTyxFQVBBLEcsRUFBQSxtQkFFRCxTQUFLaEIsRUFBTUUsR0FDVEosS0FBS3VILGVBQWU1RixJQUFNdkIsRUFDMUJKLEtBQUt1SCxlQUFlM0YsSUFBTXhCLEVBQzFCSixLQUFLd0gsY0FBYzlGLFlBQWN4QixFQUNqQyx3Q0FDRixNLG9FQUFDLEVBWmdDLENBQVNtRixHLHVxQkNEdkJvQyxFQUFHLFdBQ3RCLGNBQWtDLElBQXBCQyxFQUFPLEVBQVBBLFFBQVNDLEVBQU8sRUFBUEEsUyw0RkFBTyxTQUM1QjNILEtBQUs0SCxTQUFXRCxFQUNoQjNILEtBQUs2SCxTQUFXSCxDQUNsQixDLFFBNEhDLE8sRUE1SEEsRyxFQUFBLHlCQUVELFdBQ0UsT0FBT0ksTUFBTSxHQUFELE9BQUk5SCxLQUFLNkgsU0FBUSxhQUFhLENBQ3hDRixRQUFTM0gsS0FBSzRILFdBQ2JHLE1BQUssU0FBQUMsR0FDSixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVKQyxRQUFRQyxPQUFPSixFQUFJSyxPQUVoQyxJQUFFLE1BQ0tDLFFBQVFDLElBQ2pCLEdBQUMsc0JBRUQsV0FDRSxPQUFPVCxNQUFNLEdBQUQsT0FBSTlILEtBQUs2SCxTQUFRLFVBQVUsQ0FDckNGLFFBQVMzSCxLQUFLNEgsV0FDYkcsTUFBSyxTQUFBQyxHQUNKLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRUpDLFFBQVFDLE9BQU9KLEVBQUlLLE9BRWhDLElBQUUsTUFDS0MsUUFBUUMsSUFDakIsR0FBQyx5QkFFRCxTQUFZckksRUFBTWtILEdBQ2hCLE9BQU9VLE1BQU0sR0FBRCxPQUFJOUgsS0FBSzZILFNBQVEsYUFBYSxDQUN4Q1csT0FBUSxRQUNSYixRQUFTM0gsS0FBSzRILFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJ6SSxLQUFBQSxFQUNBa0gsSUFBQUEsTUFFRFcsTUFBSyxTQUFBQyxHQUNKLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRUpDLFFBQVFDLE9BQU9KLEVBQUlLLE9BRWhDLElBQUUsTUFDS0MsUUFBUUMsSUFDakIsR0FBQyxxQkFFRCxTQUFRckksRUFBTUUsR0FDWixPQUFPMEgsTUFBTSxHQUFELE9BQUk5SCxLQUFLNkgsU0FBUSxVQUFVLENBQ3JDVyxPQUFRLE9BQ1JiLFFBQVMzSCxLQUFLNEgsU0FDZGEsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnpJLEtBQUFBLEVBQ0FFLEtBQUFBLE1BRUQySCxNQUFLLFNBQUFDLEdBQ0osT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFSkMsUUFBUUMsT0FBT0osRUFBSUssT0FFaEMsSUFBRSxNQUNLQyxRQUFRQyxJQUNqQixHQUFDLHdCQUVELFNBQVcvSCxHQUNULE9BQU9zSCxNQUFNLEdBQUQsT0FBSTlILEtBQUs2SCxTQUFRLGtCQUFVckgsR0FBTSxDQUMzQ2dJLE9BQVEsU0FDUmIsUUFBUzNILEtBQUs0SCxXQUViRyxNQUFLLFNBQUFDLEdBQ0osT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFSkMsUUFBUUMsT0FBT0osRUFBSUssT0FFaEMsSUFBRSxNQUNLQyxRQUFRQyxJQUNqQixHQUFDLHdCQUVELFNBQVcvSCxHQUNULE9BQU9zSCxNQUFNLEdBQUQsT0FBSTlILEtBQUs2SCxTQUFRLGtCQUFVckgsRUFBRSxVQUFVLENBQ2pEZ0ksT0FBUSxTQUNSYixRQUFTM0gsS0FBSzRILFdBRWJHLE1BQUssU0FBQUMsR0FDSixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVKQyxRQUFRQyxPQUFPSixFQUFJSyxPQUVoQyxJQUFFLE1BQ0tDLFFBQVFDLElBQ2pCLEdBQUMscUJBRUQsU0FBUS9ILEdBQ04sT0FBT3NILE1BQU0sR0FBRCxPQUFJOUgsS0FBSzZILFNBQVEsa0JBQVVySCxFQUFFLFVBQVUsQ0FDakRnSSxPQUFRLE1BQ1JiLFFBQVMzSCxLQUFLNEgsV0FFYkcsTUFBSyxTQUFBQyxHQUNKLE9BQUlBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRUpDLFFBQVFDLE9BQU9KLEVBQUlLLE9BRWhDLElBQUUsTUFDS0MsUUFBUUMsSUFDakIsR0FBQyx1QkFFRCxTQUFVbEIsR0FDUixPQUFPUyxNQUFNLEdBQUQsT0FBSTlILEtBQUs2SCxTQUFRLG9CQUFvQixDQUMvQ1csT0FBUSxRQUNSYixRQUFTM0gsS0FBSzRILFNBQ2RhLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJ0QixPQUFBQSxNQUVEVSxNQUFLLFNBQUFDLEdBQ0osT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFSkMsUUFBUUMsT0FBT0osRUFBSUssT0FFaEMsSUFBRSxNQUNLQyxRQUFRQyxJQUNqQixNLG9FQUFDLEVBaElxQixHQ2VsQkssRUFBb0IzSCxTQUFTQyxjQUFjLHlCQUMzQzJILEVBQWdCNUgsU0FBU0MsY0FBYyx3QkFDdkM0SCxFQUFnQjdILFNBQVNDLGNBQWMscUJBQ3ZDNkgsRUFBc0I5SCxTQUFTQyxjQUFjLDRCQUM3QzhILEVBQXVCL0gsU0FBU0MsY0FBYyw2QkFHOUMrSCxHQUZXaEksU0FBU0MsY0FBYyxrQkFDeEJELFNBQVNDLGNBQWMsaUJBQ2hCRCxTQUFTQyxjQUFjLGNBQ3hDZ0ksRUFBZWpJLFNBQVNDLGNBQWMsb0JBR3RDaUksR0FGcUJsSSxTQUFTQyxjQUFjLDJCQUN0QkQsU0FBU0MsY0FBYyw0QkFDM0JELFNBQVNDLGNBQWMsd0JBQ3pDa0ksRUFBZW5JLFNBQVNDLGNBQWMsMkJDRnRDbUksRUFBVyxJQUFJeEMsRUFBUyxDQUM1QkMsYUFBYyxpQkFDZEMsWUFBYSxnQkFDYkMsZUFBZ0IscUJBR2xCNEIsRUFBa0I1RyxpQkFBaUIsU0FBUyxXQUMxQ3NILEVBQWNDLGtCQUNkQyxFQUFhQyxPQUNiLElBQU05SixFQUFPMEosRUFBU0ssY0FDdEJYLEVBQW9CekMsTUFBUTNHLEVBQUtPLEtBQ2pDOEksRUFBcUIxQyxNQUFRM0csRUFBS3lILEdBQ3BDLElBRUF5QixFQUFjN0csaUJBQWlCLFNBQVMsV0FDdEMySCxFQUFhSixrQkFDYkssRUFBVUgsTUFDWixJQUVBLElBQU1JLEVBQW1CLENBQ3ZCakgsWUFBYSxlQUNiWSxhQUFjLGdCQUNkYSxvQkFBcUIsc0JBQ3JCQyxvQkFBcUIsNkJBQ3JCQyxrQkFBbUIsMkJBQ25CQyxnQkFBaUIsMEJBQ2pCRSxXQUFZLFNBR2QsU0FBU29GLEVBQVduSyxHQUNsQixJQUFNb0ssRUFBTyxJQUFJckssRUFBS0MsRUFBTSxrQkFBa0IsV0FDNUNxSyxHQUFXUCxLQUFLOUosRUFBS08sS0FBTVAsRUFBS1MsS0FDbEMsSUFBRyxTQUFDSSxHQUNGeUosR0FBWVIsT0FDWlEsR0FBWUMscUJBQW9CLFdBQzlCQyxHQUFJQyxXQUFXNUosR0FDWnVILE1BQUssU0FBQUMsR0FDSitCLEVBQUtNLGdCQUNMSixHQUFZcEUsT0FDZCxHQUNKLEdBQ0UsSUFDRixTQUFDckYsR0FDS3VKLEVBQUsxSCxVQUNQOEgsR0FBSUcsV0FBVzlKLEdBQ2R1SCxNQUFLLFNBQUFDLEdBQ0orQixFQUFLbEksU0FBU21HLEVBQUkxSCxNQUNwQixJQUVBNkosR0FBSUksUUFBUS9KLEdBQ1h1SCxNQUFLLFNBQUFDLEdBQ0orQixFQUFLbEksU0FBU21HLEVBQUkxSCxNQUNwQixHQUVKLElBR0YsT0FBT3lKLEVBQUtTLGNBQ2QsQ0FFQSxJQUFNQyxFQUFVLElBQUk5RixFQUFRLENBQUNFLE1BQU8sR0FBSUMsU0FBVSxTQUFDSSxHQUNqRCxJQUFNNkUsRUFBT0QsRUFBVzVFLEdBQ3hCdUYsRUFBUUMsUUFBUVgsRUFDbEIsR0FBSSxhQUNKVSxFQUFRRSxjQUVSLElBQU1yQixFQUFnQixJQUFJNUcsRUFBY21ILEVBQWtCZixHQUNwRGEsRUFBZSxJQUFJakgsRUFBY21ILEVBQWtCWCxHQUNuRDBCLEVBQWtCLElBQUlsSSxFQUFjbUgsRUFBa0JWLEdBRTVERyxFQUFjdUIsbUJBQ2RsQixFQUFha0IsbUJBQ2JELEVBQWdCQyxtQkFFaEIsSUFBTWpCLEVBQVksSUFBSTVELEVBQWMsd0JBQXdCLFNBQUM4RSxHQUMzRFgsR0FBSVksUUFBUUQsRUFBU0UsVUFBV0YsRUFBU0csV0FDdENsRCxNQUFLLFNBQUFDLEdBQ0osSUFBTStCLEVBQU9ELEVBQVcsQ0FDdEI1SixLQUFNOEgsRUFBSTlILEtBQ1ZFLEtBQU00SCxFQUFJNUgsS0FDVkUsTUFBTzBILEVBQUkxSCxNQUNYRSxHQUFJd0gsRUFBSXpILElBQ1JHLE9BQVFzSCxFQUFJdEgsT0FDWkUsUUFBU29ILEVBQUlwSCxVQUVmcUksRUFBZWlDLFFBQVFuQixFQUN6QixJQUFFLFNBQ08sa0JBQU1ILEVBQVV1QixlQUFjLEVBQU0sR0FDakQsSUFFQXZCLEVBQVV3QixvQkFFVixJQUFNNUIsRUFBZSxJQUFJeEQsRUFBYyxvQkFBb0IsU0FBQzhFLEdBQzFELElBQU9PLEVBQXFCUCxFQUFyQk8sU0FBVUMsRUFBV1IsRUFBWFEsUUFDakJuQixHQUFJb0IsWUFBWUYsRUFBVUMsR0FDdkJ2RCxNQUFLLFdBQ0pzQixFQUFTbUMsWUFBWUgsRUFBVUMsRUFDakMsSUFBRSxTQUNPLGtCQUFNOUIsRUFBYTJCLGVBQWUsR0FDL0MsSUFFQTNCLEVBQWE0QixvQkFFYixJQUFNcEIsR0FBYSxJQUFJMUMsRUFBZSwwQkFDdEMwQyxHQUFXb0Isb0JBRVgsSUFBTW5CLEdBQWMsSUFBSWpFLEVBQWMsc0JBQ3RDaUUsR0FBWW1CLG9CQUVaLElBQU1LLEdBQWMsSUFBSXpGLEVBQWMsc0JBQXNCLFNBQUM4RSxHQUMzRFgsR0FBSXVCLFVBQVVaLEVBQVNhLFlBQ3BCNUQsTUFBSyxTQUFDQyxHQUNMcUIsRUFBU21DLFlBQVl4RCxFQUFJWCxPQUMzQixJQUFFLFNBQ08sa0JBQU1vRSxHQUFZTixlQUFlLEdBQzlDLElBRUFNLEdBQVlMLG9CQUVaaEMsRUFBYXBILGlCQUFpQixTQUFTLFdBQ3JDNEksRUFBZ0JyQixrQkFDaEJrQyxHQUFZaEMsTUFDZCxJQUVBLElBQU1VLEdBQU0sSUFBSTFDLEVBQUksQ0FDbEJDLFFBQVMsOENBQ1RDLFFBQVMsQ0FDUGlFLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBTXBCekIsR0FBSTBCLGFBQ0Q5RCxNQUFLLFNBQUFDLEdBQ0pxQixFQUFTbUMsWUFBWXhELEVBQUk5SCxLQUFNOEgsRUFBSVosSUFBS1ksRUFBSVgsUUFDbkNXLEVBQUl6SCxHQUNmLElBRUY0SixHQUFJMkIsV0FDRC9ELE1BQUssU0FBQWdFLEdBQ0pBLEVBQVNqSSxTQUFRLFNBQUFuRSxHQUNmLElBQU1vSyxFQUFPRCxFQUFXLENBQ3RCNUosS0FBTVAsRUFBS08sS0FDWEUsS0FBTVQsRUFBS1MsS0FDWEUsTUFBT1gsRUFBS1csTUFDWkUsR0FBSWIsRUFBS1ksSUFDVEcsT0FBUWYsRUFBS2UsT0FDYkUsUUFBU2pCLEVBQUtxTSxNQUFNekwsTUFFdEJrSyxFQUFRQyxRQUFRWCxFQUNsQixHQUNGLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by1tYWluLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by1tYWluLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by1tYWluLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by1tYWluLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tbWFpbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8tbWFpbi8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLW1haW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by1tYWluLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLW1haW4vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLW1haW4vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlTGlrZUNsaWNrKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZCA9IGRhdGEuaWQ7XG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS51c2VySWQ7XG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXJJZDtcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19pbWFnZScpO1xuICAgIHRoaXMuX2J1dHRvbkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG5cbiAgICB0aGlzLnNldExpa2VzKHRoaXMuX2xpa2VzKTtcblxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcy5faWQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2lkKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUVsZW1lbnQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgY29uc3QgaGFzTGlrZSA9IHRoaXMuX2xpa2VzLmZpbmQoKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpXG4gICAgcmV0dXJuIGhhc0xpa2U7XG4gIH1cblxuICBzZXRMaWtlcyhkYXRhKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhO1xuICAgIGNvbnN0IGxpa2VDb3VudCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnQnKVxuICAgIGxpa2VDb3VudC50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aFxuXG4gICAgXG4gICAgaWYgKHRoaXMuaXNMaWtlZCgpKSB7XG4gICAgICB0aGlzLl9hY3RpdmVMaWtlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2luYWN0aXZlTGlrZSgpO1xuICAgIH1cbiAgfSAgXG5cbiAgX2FjdGl2ZUxpa2UoKSB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG4gIF9pbmFjdGl2ZUxpa2UoKSB7XG4gICAgdGhpcy5fYnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLmlucHV0RWxlbWVudCk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dEVsZW1lbnQpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uRWxlbWVudCk7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2FjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuX2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX2lucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLl9pbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJzsgIFxuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9ICgpID0+IHtcbiAgICBpZih0aGlzLl9pbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoaW5wdXRFbGVtZW50ID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5faW5wdXRFbGVtZW50ID0gaW5wdXRFbGVtZW50O1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9pbnB1dEVsZW1lbnQgPSBpbnB1dEVsZW1lbnQ7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG59XG4iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgfVxyXG4gICAgfSkgIFxyXG4gIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fYnV0dG9uU2F2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZS1idXR0b24nKVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIGNoYW5nZVN1Ym1pdEhhbmRsZXIobmV3U3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gbmV3U3VibWl0O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0PSfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU2F2ZS50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uU2F2ZS50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3J9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgam9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlQmlnUGhvdG8gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90bycpO1xyXG4gICAgdGhpcy5fbmFtZUJpZ1Bob3RvID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8tdGl0bGUnKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1hZ2VCaWdQaG90by5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1hZ2VCaWdQaG90by5hbHQgPSBsaW5rO1xyXG4gICAgdGhpcy5fbmFtZUJpZ1Bob3RvLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICB9XHJcblxyXG4gIGdldFByb2ZpbGUoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgfVxyXG5cclxuICBnZXRDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyAgXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gIH1cclxuXHJcbiAgZWRpdFByb2ZpbGUobmFtZSwgam9iKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLCAgXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGpvYlxyXG4gICAgICB9KVxyXG4gICAgfSkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLCAgXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmtcclxuICAgICAgfSlcclxuICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIiwgIFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsICBcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICB9XHJcblxyXG4gIGFkZExpa2UoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLCAgXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXHJcbiAgfVxyXG5cclxuICBhZGRBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIiwgIFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gIH1cclxufSBcclxuXHJcbiIsImV4cG9ydCB7IFxyXG4gIGJ1dHRvbkVkaXRQcm9maWxlLCBcclxuICBidXR0b25BZGRDYXJkLCBcclxuICBwb3B1cEZvcm1FZGl0LCBcclxuICBwb3B1cEZpcnN0RmllbGRFZGl0LCBcclxuICBwb3B1cFNlY29uZEZpZWxkRWRpdCwgXHJcbiAgdXNlck5hbWUsIFxyXG4gIHVzZXJKb2IsIFxyXG4gIGNhcmRzQ29udGFpbmVyLFxyXG4gIHBvcHVwRm9ybUFkZCwgXHJcbiAgcG9wdXBGaXJzdEZpZWxkQWRkLCBcclxuICBwb3B1cFNlY29uZEZpZWxkQWRkLFxyXG4gIHBvcHVwRm9ybUF2YXRhcixcclxuICBidXR0b25BdmF0YXJcclxufVxyXG5cclxuY29uc3QgYnV0dG9uRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKVxyXG5jb25zdCBidXR0b25BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKVxyXG5jb25zdCBwb3B1cEZvcm1FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2VkaXQnKVxyXG5jb25zdCBwb3B1cEZpcnN0RmllbGRFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19maXJzdC1maWVsZF9lZGl0JylcclxuY29uc3QgcG9wdXBTZWNvbmRGaWVsZEVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NlY29uZC1maWVsZF9lZGl0JylcclxuY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpXHJcbmNvbnN0IHVzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fam9iJylcclxuY29uc3QgY2FyZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHMnKVxyXG5jb25zdCBwb3B1cEZvcm1BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fYWRkJylcclxuY29uc3QgcG9wdXBGaXJzdEZpZWxkQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19maXJzdC1maWVsZF9hZGQnKVxyXG5jb25zdCBwb3B1cFNlY29uZEZpZWxkQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19zZWNvbmQtZmllbGRfYWRkJylcclxuY29uc3QgcG9wdXBGb3JtQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX2F2YXRhcicpXHJcbmNvbnN0IGJ1dHRvbkF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXItYnV0dG9uJylcclxuIiwiaW1wb3J0ICcuLi9wYWdlcy9pbmRleC5jc3MnO1xuXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tICcuLi91dGlscy9pbml0aWFsQ2FyZHMuanMnO1xuaW1wb3J0IHtcbiAgYnV0dG9uRWRpdFByb2ZpbGUsIFxuICBidXR0b25BZGRDYXJkLCBcbiAgcG9wdXBGb3JtRWRpdCwgXG4gIHBvcHVwRmlyc3RGaWVsZEVkaXQsIFxuICBwb3B1cFNlY29uZEZpZWxkRWRpdCwgXG4gIHVzZXJOYW1lLCBcbiAgdXNlckpvYiwgXG4gIGNhcmRzQ29udGFpbmVyLFxuICBwb3B1cEZvcm1BZGQsIFxuICBwb3B1cEZpcnN0RmllbGRBZGQsIFxuICBwb3B1cFNlY29uZEZpZWxkQWRkLFxuICBwb3B1cEZvcm1BdmF0YXIsXG4gIGJ1dHRvbkF2YXRhclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcbiAgam9iU2VsZWN0b3I6ICcucHJvZmlsZV9fam9iJyxcbiAgYXZhdGFyU2VsZWN0b3I6ICcucHJvZmlsZV9fYXZhdGFyJ1xufSk7XG5cbmJ1dHRvbkVkaXRQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtVmFsaWRFZGl0LnJlc2V0VmFsaWRhdGlvbigpO1xuICBwb3B1cFByb2ZpbGUub3BlbigpO1xuICBjb25zdCBkYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcG9wdXBGaXJzdEZpZWxkRWRpdC52YWx1ZSA9IGRhdGEubmFtZTtcbiAgcG9wdXBTZWNvbmRGaWVsZEVkaXQudmFsdWUgPSBkYXRhLmpvYjtcbn0pXG5cbmJ1dHRvbkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1WYWxpZEFkZC5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBDYXJkLm9wZW4oKTtcbn0pXG5cbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm1FbGVtZW50OiAnLnBvcHVwX19mb3JtJyxcbiAgaW5wdXRFbGVtZW50OiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvbkVsZW1lbnQ6ICcucG9wdXBfX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zYXZlLWJ1dHRvbl9pbnZhbGlkJyxcbiAgYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc2F2ZS1idXR0b25fdmFsaWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdlcnJvcicgIFxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsICcudGVtcGxhdGUtY2FyZCcsICgpID0+IHtcbiAgICBwb3B1cEltYWdlLm9wZW4oZGF0YS5uYW1lLCBkYXRhLmxpbmspXG4gIH0sIChpZCkgPT4ge1xuICAgIHBvcHVwRGVsZXRlLm9wZW4oKTtcbiAgICBwb3B1cERlbGV0ZS5jaGFuZ2VTdWJtaXRIYW5kbGVyKCgpID0+IHtcbiAgICAgIGFwaS5kZWxldGVDYXJkKGlkKVxuICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgIGNhcmQuZGVsZXRlRWxlbWVudCgpXG4gICAgICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICB9KTtcbiAgICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcbiAgICAgICAgYXBpLmRlbGV0ZUxpa2UoaWQpXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY2FyZC5zZXRMaWtlcyhyZXMubGlrZXMpXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGkuYWRkTGlrZShpZClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgKTtcblxuICByZXR1cm4gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtpdGVtczogW10sIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xufX0sICcuZWxlbWVudHMnKVxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG5jb25zdCBmb3JtVmFsaWRFZGl0ID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBGb3JtRWRpdCk7XG5jb25zdCBmb3JtVmFsaWRBZGQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwb3B1cEZvcm1BZGQpO1xuY29uc3QgZm9ybVZhbGlkQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBGb3JtQXZhdGFyKTtcblxuZm9ybVZhbGlkRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtVmFsaWRBZGQuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybVZhbGlkQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2FkZC1jYXJkJywgKGZvcm1EYXRhKSA9PiB7XG4gIGFwaS5hZGRDYXJkKGZvcm1EYXRhLmltYWdlTmFtZSwgZm9ybURhdGEuaW1hZ2VMaW5rKVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZCh7XG4gICAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgICBsaW5rOiByZXMubGluayxcbiAgICAgICAgbGlrZXM6IHJlcy5saWtlcyxcbiAgICAgICAgaWQ6IHJlcy5faWQsXG4gICAgICAgIHVzZXJJZDogcmVzLnVzZXJJZCxcbiAgICAgICAgb3duZXJJZDogcmVzLm93bmVySWRcbiAgICAgIH0pXG4gICAgICBjYXJkc0NvbnRhaW5lci5wcmVwZW5kKGNhcmQpXG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cENhcmQucmVuZGVyTG9hZGluZyhmYWxzZSkpXG59KVxuXG5wb3B1cENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2VkaXQnLCAoZm9ybURhdGEpID0+IHtcbiAgY29uc3Qge3VzZXJOYW1lLCB1c2VySm9ifSA9IGZvcm1EYXRhO1xuICBhcGkuZWRpdFByb2ZpbGUodXNlck5hbWUsIHVzZXJKb2IpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlck5hbWUsIHVzZXJKb2IpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gcG9wdXBQcm9maWxlLnJlbmRlckxvYWRpbmcoKSlcbn0pXG5cbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9zaG93LXBob3RvJylcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZGVsZXRlJylcbnBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2F2YXRhcicsIChmb3JtRGF0YSkgPT4ge1xuICBhcGkuYWRkQXZhdGFyKGZvcm1EYXRhLmF2YXRhckxpbmspXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLmF2YXRhcik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEF2YXRhci5yZW5kZXJMb2FkaW5nKCkpXG59KVxuXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5idXR0b25BdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1WYWxpZEF2YXRhci5yZXNldFZhbGlkYXRpb24oKTtcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xufSlcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTU1JyxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246ICcyMDNhMzc0ZC0zMDYzLTRiY2MtYmQzNC00ZDNkODZlZDNkYWUnLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfSAgXG59KTtcblxubGV0IHVzZXJJZFxuXG5hcGkuZ2V0UHJvZmlsZSgpXG4gIC50aGVuKHJlcyA9PiB7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5qb2IsIHJlcy5hdmF0YXIpO1xuICAgIHVzZXJJZCA9IHJlcy5faWRcbiAgfSlcblxuYXBpLmdldENhcmRzKClcbiAgLnRoZW4oY2FyZExpc3QgPT4ge1xuICAgIGNhcmRMaXN0LmZvckVhY2goZGF0YSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZCh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgICBsaWtlczogZGF0YS5saWtlcyxcbiAgICAgICAgaWQ6IGRhdGEuX2lkLFxuICAgICAgICB1c2VySWQ6IGRhdGEudXNlcklkLFxuICAgICAgICBvd25lcklkOiBkYXRhLm93bmVyLl9pZFxuICAgICAgfSlcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkKVxuICAgIH0pXG4gIH0pXG5cbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsImlkIiwiX3VzZXJJZCIsInVzZXJJZCIsIl9vd25lcklkIiwib3duZXJJZCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfaW1hZ2UiLCJfYnV0dG9uTGlrZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0Iiwic2V0TGlrZXMiLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiZmluZCIsInVzZXIiLCJsZW5ndGgiLCJpc0xpa2VkIiwiX2FjdGl2ZUxpa2UiLCJfaW5hY3RpdmVMaWtlIiwiY2xhc3NMaXN0IiwiYWRkIiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0RWxlbWVudCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfaW5wdXRMaXN0Iiwic29tZSIsImlucHV0RWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfYWN0aXZlQnV0dG9uQ2xhc3MiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jb25maWciLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwic3VibWl0QnV0dG9uRWxlbWVudCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJhY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9idXR0b25TYXZlIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwibmV3U3VibWl0IiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJfYXZhdGFyRWxlbWVudCIsImpvYiIsImF2YXRhciIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlQmlnUGhvdG8iLCJfbmFtZUJpZ1Bob3RvIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfaGVhZGVycyIsIl9iYXNlVXJsIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImJ1dHRvbkVkaXRQcm9maWxlIiwiYnV0dG9uQWRkQ2FyZCIsInBvcHVwRm9ybUVkaXQiLCJwb3B1cEZpcnN0RmllbGRFZGl0IiwicG9wdXBTZWNvbmRGaWVsZEVkaXQiLCJjYXJkc0NvbnRhaW5lciIsInBvcHVwRm9ybUFkZCIsInBvcHVwRm9ybUF2YXRhciIsImJ1dHRvbkF2YXRhciIsInVzZXJJbmZvIiwiZm9ybVZhbGlkRWRpdCIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwUHJvZmlsZSIsIm9wZW4iLCJnZXRVc2VySW5mbyIsImZvcm1WYWxpZEFkZCIsInBvcHVwQ2FyZCIsInZhbGlkYXRpb25Db25maWciLCJjcmVhdGVDYXJkIiwiY2FyZCIsInBvcHVwSW1hZ2UiLCJwb3B1cERlbGV0ZSIsImNoYW5nZVN1Ym1pdEhhbmRsZXIiLCJhcGkiLCJkZWxldGVDYXJkIiwiZGVsZXRlRWxlbWVudCIsImRlbGV0ZUxpa2UiLCJhZGRMaWtlIiwiZ2VuZXJhdGVDYXJkIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsImZvcm1WYWxpZEF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iLCJmb3JtRGF0YSIsImFkZENhcmQiLCJpbWFnZU5hbWUiLCJpbWFnZUxpbmsiLCJwcmVwZW5kIiwicmVuZGVyTG9hZGluZyIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlck5hbWUiLCJ1c2VySm9iIiwiZWRpdFByb2ZpbGUiLCJzZXRVc2VySW5mbyIsInBvcHVwQXZhdGFyIiwiYWRkQXZhdGFyIiwiYXZhdGFyTGluayIsImF1dGhvcml6YXRpb24iLCJnZXRQcm9maWxlIiwiZ2V0Q2FyZHMiLCJjYXJkTGlzdCIsIm93bmVyIl0sInNvdXJjZVJvb3QiOiIifQ==